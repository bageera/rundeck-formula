---
driver: docker
driver_config:
  use_sudo: false
  forward: 4440:4440

platforms:
  - name: centos-6.6
    driver_config:
      dockerfile: Dockerfile

provisioner:
  name: salt_solo
  formula: rundeck
  state_top:
    base:
      '*':
        - rundeck
  pillars:
    top.sls:
      base:
        '*':
          - rundeck
    rundeck.sls:
      rundeck:
        projects:
          dir: /home/rundeck/projects
          resources_file: resources.yml

suites:
  - name: default
  - name: config
    provisioner:
      pillars:
        rundeck.sls:
          rundeck:
            host: rundeck.local
            users:
              admin:
                password: admin
                groups:
                  - user
                  - admin
              user:
                password: passwd
                groups:
                  - user
